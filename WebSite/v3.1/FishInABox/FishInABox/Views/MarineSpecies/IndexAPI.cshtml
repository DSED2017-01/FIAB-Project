@{
    ViewData["Title"] = "Maine Species API";
}

@{
    ViewBag.Title = "Maine Species API";
}

<script src="~/lib/jquery/dist/jquery.min.js"></script>

<div class="panel panel-primary">
<div class="panel-heading">
    Marine Species
</div>   <!--en dof panel-heading -->
<div class="panel-body">
    <table class="table table-bordered" id="Table">
        <tr>
            <th>Record Id</th>
            <th>Scientific Name</th>
            <th>Common Name</th>
        </tr>   <!--end of table-row -->
    </table>   <!--end of table -->
</div> <!--end of Panel-body -->
</div> <!--end of Panel -->
    

<script>

$(document).ready(function () {
    $.ajax({
        type: "GET",
        url: "/api/MarineSpeciesAPI",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (data) {
            //alert(JSON.stringify(data));
            $("#DIV").html('');
            var DIV = '';
            $.each(data, function (i, item) {
                var rows = "<tr>" +
                    "<td id='IdPk'>" + item.idPk + "</td>" +
                    "<td id='Scientific'>" + item.scientific + "</td>" +
                    "<td id='Common'>" + item.common + "</td>" +
                    "</tr>";
                $('#Table').append(rows);
            }); //End of foreach Loop
            console.log(data);
        }, //End of AJAX Success function

        failure: function (data) {
            alert(data.responseText);
        }, //End of AJAX failure function
        error: function (data) {
            alert(data.responseText);
        } //End of AJAX error function

    });
});
</script>

